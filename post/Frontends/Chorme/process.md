·# Chrome 浏览器

## 国内的大部分主流浏览器，都是基于 Chromium 二次开发而来

## Chrome 是 Google 的官方发行版，特性和 Chromium 基本一样，只存在一些产品层面差异

## 进程和线程

### 进程

> 启动一个程序的时候，操作系统会为该程序创建一块内存，用来存放代码、运行中的数据和一个执行任务的主线程，我们把这样的一个运行环境叫进程。

### 线程

线程是不能单独存在的，它是由进程来启动和管理的

### 进程线程之间关系

线程是依附于进程的，而进程中使用多线程并行处理能提升运算效率。

> 进程和线程之间的关系有以下 4 个特点

1. 进程中的任意一线程执行出错，都会导致整个进程的崩溃.
2. 线程之间共享进程中的数据.
3. 当一个进程关闭之后，操作系统会回收进程所占用的内存.
4. 进程之间的内容相互隔离

### 单进程浏览器

> 单进程浏览器是指浏览器的所有功能模块都是运行在同一个进程里
> 2007 年之前，市面上浏览器都是单进程的

#### 特点

1. 不稳定

   > 渲染引擎模块也是不稳定的，通常一些复杂的 JavaScript 代码就有可能引起渲染引擎模块的崩溃。和插件一样，渲染引擎的崩溃也会导致整个浏览器的崩溃。

2. 不流畅

   > 运行一个复杂点的页面再关闭页面，会存在内存不能完全回收的情况，这样导致的问题是使用时间越长，内存占用越高，浏览器会变得越慢。

3. 不安全

   > 插件可以使用 C/C++ 等代码编写，通过插件可以获取到操作系统的任意资源，当你在页面运行一个插件时也就意味着这个插件能完全操作你的电脑。如果是个恶意插件，那么它就可以释放病毒、窃取你的账号密码，引发安全性问题

### 多进程浏览器时代

> 解决的问题 即：不稳定、不流畅、不安全

> 带来的问题 即：更高的资源占用、更复杂的体系架构

### Chrome 浏览器架构

> 1 个浏览器（Browser）主进程、1 个 GPU 进程、1 个网络（NetWork）进程、多个渲染进程和多个插件进程

### 未来浏览器架构

> Chrome 官方团队使用“面向服务的架构”（Services Oriented Architecture，简称 SOA）的思想设计了新的 Chrome 架构
